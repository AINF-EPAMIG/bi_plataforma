<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/inicio/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/inicio/page.tsx" />
              <option name="originalContent" value="&quot;use client&quot;;&#10;&#10;import { useState, useRef, useEffect } from &quot;react&quot;;&#10;import Link from &quot;next/link&quot;;&#10;import HomeIcon from '@mui/icons-material/Home';&#10;import AssignmentIcon from '@mui/icons-material/Assignment';&#10;import MenuBookIcon from '@mui/icons-material/MenuBook';&#10;import ScienceIcon from '@mui/icons-material/Science';&#10;import CalendarMonthIcon from '@mui/icons-material/CalendarMonth';&#10;import LanguageIcon from '@mui/icons-material/Language';&#10;import LibraryBooksIcon from '@mui/icons-material/LibraryBooks';&#10;import LocationOnIcon from '@mui/icons-material/LocationOn';&#10;import BusinessIcon from '@mui/icons-material/Business';&#10;import AgricultureIcon from '@mui/icons-material/Agriculture';&#10;import GroupIcon from '@mui/icons-material/Group';&#10;import PeopleIcon from '@mui/icons-material/People';&#10;import ScienceOutlinedIcon from '@mui/icons-material/ScienceOutlined';&#10;import RegionaisChart from '@/components/dashboard/RegionaisChart';&#10;import FazendasChart from '@/components/dashboard/FazendasChart';&#10;&#10;const menuItems = [&#10;  {&#10;    label: &quot;Projetos&quot;,&#10;    icon: &lt;AssignmentIcon fontSize=&quot;small&quot; className=&quot;text-[#025C3E]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Visão Geral&quot;, href: &quot;/projetos/financeiro&quot; },&#10;      { label: &quot;Finalizados&quot;, href: &quot;/projetos/finalizados&quot; },&#10;    ],&#10;  },&#10;  {&#10;    label: &quot;Publicações&quot;,&#10;    icon: &lt;MenuBookIcon fontSize=&quot;small&quot; className=&quot;text-[#025C3E]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Artigos&quot;, href: &quot;/publicacoes/artigos&quot; },&#10;      { label: &quot;Livros&quot;, href: &quot;/publicacoes/livros&quot; },&#10;    ],&#10;  },&#10;  {&#10;    label: &quot;Tecnologias&quot;,&#10;    icon: &lt;ScienceIcon fontSize=&quot;small&quot; className=&quot;text-[#303836]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Patentes&quot;, href: &quot;/tecnologias/patentes&quot; },&#10;      { label: &quot;Mercado&quot;, href: &quot;/tecnologias/mercado&quot; },&#10;    ],&#10;  },&#10;  {&#10;    label: &quot;Eventos&quot;,&#10;    icon: &lt;CalendarMonthIcon fontSize=&quot;small&quot; className=&quot;text-[#025C3E]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Próximos&quot;, href: &quot;/eventos/proximos&quot; },&#10;      { label: &quot;Passados&quot;, href: &quot;/eventos/passados&quot; },&#10;    ],&#10;  },&#10;];&#10;&#10;interface DashboardStats {&#10;  regionais: number;&#10;  institutos: number;&#10;  fazendas: number;&#10;  pesquisadores: number;&#10;}&#10;&#10;export default function Page() {&#10;  const [openMenu, setOpenMenu] = useState(-1);&#10;  const dropdownRef = useRef&lt;HTMLDivElement | null&gt;(null);&#10;  const [stats, setStats] = useState&lt;DashboardStats&gt;({&#10;    regionais: 0,&#10;    institutos: 0,&#10;    fazendas: 0,&#10;    pesquisadores: 0,&#10;  });&#10;  const [loading, setLoading] = useState(true);&#10;  const [activeChart, setActiveChart] = useState&lt;'regionais' | 'fazendas'&gt;('regionais');&#10;&#10;  useEffect(() =&gt; {&#10;    function handleClick(e: MouseEvent) {&#10;      if (&#10;        dropdownRef.current &amp;&amp;&#10;        !dropdownRef.current.contains(e.target as Node)&#10;      ) {&#10;        setOpenMenu(-1);&#10;      }&#10;    }&#10;    document.addEventListener(&quot;mousedown&quot;, handleClick);&#10;    return () =&gt; document.removeEventListener(&quot;mousedown&quot;, handleClick);&#10;  }, []);&#10;&#10;  useEffect(() =&gt; {&#10;    async function fetchStats() {&#10;      try {&#10;        setLoading(true);&#10;        &#10;        // Buscar dados das APIs em paralelo&#10;        const [regionaisRes, institutosRes, fazendasRes] = await Promise.all([&#10;          fetch('/api/dashboard/regionais'),&#10;          fetch('/api/dashboard/institutos'),&#10;          fetch('/api/dashboard/fazendas'),&#10;        ]);&#10;&#10;        const [regionaisData, institutosData, fazendasData] = await Promise.all([&#10;          regionaisRes.json(),&#10;          institutosRes.json(),&#10;          fazendasRes.json(),&#10;        ]);&#10;&#10;        // Valores fixos solicitados + total de pesquisadores vindo da API&#10;        setStats({&#10;          regionais: 5, // fixo conforme solicitado&#10;          institutos: 2, // fixo conforme solicitado&#10;          fazendas: 21, // fixo conforme solicitado&#10;          pesquisadores: regionaisData.totalGeral || 0, // soma dos pesquisadores (API)&#10;        });&#10;      } catch (error) {&#10;        console.error('Erro ao buscar estatísticas:', error);&#10;      } finally {&#10;        setLoading(false);&#10;      }&#10;    }&#10;&#10;    fetchStats();&#10;  }, []);&#10;&#10;  return (&#10;    &lt;div className=&quot;flex min-h-screen bg-[#f6f8f9] overflow-x-hidden&quot;&gt;&#10;      {/* Menu Lateral */}&#10;      &lt;aside className=&quot;bg-white border-r-8 border-[#025C3E] w-20 md:w-64 h-screen flex flex-col items-center py-8 fixed left-0 top-0 z-40 shadow-lg overflow-y-auto&quot;&gt;&#10;        &lt;div className=&quot;flex flex-col items-center w-full&quot;&gt;&#10;          &lt;img src=&quot;/epamig.svg&quot; alt=&quot;Logo EPAMIG&quot; className=&quot;w-28 h-28 mb-3&quot; /&gt;&#10;          &lt;Link&#10;            href=&quot;/inicio&quot;&#10;            className=&quot;flex items-center gap-2 bg-[#025C3E] text-white px-5 py-2 rounded-2xl shadow hover:bg-[#038451] transition mb-8 mt-2&quot;&#10;          &gt;&#10;            &lt;HomeIcon fontSize=&quot;medium&quot; /&gt; &lt;span className=&quot;font-bold hidden md:inline&quot;&gt;Início&lt;/span&gt;&#10;          &lt;/Link&gt;&#10;        &lt;/div&gt;&#10;        &lt;nav className=&quot;flex-1 w-full px-2&quot; ref={dropdownRef}&gt;&#10;          &lt;ul className=&quot;space-y-2&quot;&gt;&#10;            {menuItems.map((item, idx) =&gt; (&#10;              &lt;li key={item.label} className=&quot;relative&quot;&gt;&#10;                &lt;button&#10;                  className={`w-full flex items-center justify-between px-3 py-3 rounded-xl border border-transparent transition-all shadow hover:border-[#025C3E] hover:bg-[#E3F7EF] focus:bg-[#E3F7EF] group&#10;                  ${openMenu === idx ? &quot;bg-[#E3F7EF] border-[#025C3E]&quot; : &quot;&quot;}`}&#10;                  onClick={() =&gt; setOpenMenu(openMenu === idx ? -1 : idx)}&#10;                  aria-expanded={openMenu === idx}&#10;                &gt;&#10;                  &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                    {item.icon}&#10;                    &lt;span className=&quot;text-[#025C3E] text-base md:text-lg font-semibold&quot;&gt;{item.label}&lt;/span&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;span&#10;                    className={`text-[#025C3E] transform transition-transform duration-300 ${&#10;                      openMenu === idx ? &quot;rotate-180&quot; : &quot;rotate-0&quot;&#10;                    }`}&#10;                  &gt;&#10;                    &lt;svg width={20} height={20}&gt;&lt;path d=&quot;M7 10l5 0&quot; stroke=&quot;#025C3E&quot; strokeWidth={3} strokeLinecap=&quot;round&quot; /&gt;&lt;/svg&gt;&#10;                  &lt;/span&gt;&#10;                &lt;/button&gt;&#10;                {openMenu === idx &amp;&amp; (&#10;                  &lt;div className=&quot;absolute left-full top-0 md:static md:left-0 md:top-auto z-20 w-32 md:w-auto shadow-lg rounded-xl bg-white mt-2 animate-fadein border border-[#E3F7EF]&quot;&gt;&#10;                    &lt;ul className=&quot;p-2&quot;&gt;&#10;                      {item.sub.map((sub) =&gt; (&#10;                        &lt;li key={sub.href}&gt;&#10;                          &lt;Link&#10;                            href={sub.href}&#10;                            className=&quot;block py-2 px-4 text-sm text-[#025C3E] rounded hover:bg-[#DFF6EC] font-medium transition&quot;&#10;                          &gt;&#10;                            {sub.label}&#10;                          &lt;/Link&gt;&#10;                        &lt;/li&gt;&#10;                      ))}&#10;                    &lt;/ul&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/li&gt;&#10;            ))}&#10;          &lt;/ul&gt;&#10;        &lt;/nav&gt;&#10;        &lt;div className=&quot;mt-auto pt-4 text-xs text-gray-400&quot;&gt;EPAMIG © 2025&lt;/div&gt;&#10;      &lt;/aside&gt;&#10;      {/* HEADER FIXO + Main */}&#10;      &lt;div className=&quot;flex-1 ml-20 md:ml-64 flex flex-col&quot;&gt;&#10;        &lt;header className=&quot;bg-white shadow-sm flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 md:py-5 border-b-2 border-[#025C3E] sticky top-0 z-30 w-full gap-3 md:gap-4&quot;&gt;&#10;          &lt;div className=&quot;text-center md:text-left&quot;&gt;&#10;            &lt;h1 className=&quot;text-lg md:text-xl lg:text-2xl font-bold text-[#025C3E] leading-tight&quot;&gt;Pesquisa360 EPAMIG&lt;/h1&gt;&#10;            &lt;span className=&quot;block text-xs md:text-sm text-[#038451] font-medium mt-1&quot;&gt;Onde a pesquisa se transforma em resultados.&lt;/span&gt;&#10;          &lt;/div&gt;&#10;          &lt;nav className=&quot;flex items-center divide-x divide-gray-300&quot;&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.epamig.br&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;LanguageIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden sm:inline&quot;&gt;Conheça a EPAMIG&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;EPAMIG&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.livrariaepamig.com.br/&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;LibraryBooksIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden sm:inline&quot;&gt;Nossa Livraria&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;Livraria&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.epamig.br/pesquisa/lista_pesquisadores/&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;PeopleIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden sm:inline&quot;&gt;Pesquisadores e Assessores&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;Pesq.&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.epamig.br/pesquisa/programas-estaduais-de-pesquisa/&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;ScienceOutlinedIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden lg:inline&quot;&gt;Programas Estaduais de Pesquisas (PEP)&lt;/span&gt;&#10;              &lt;span className=&quot;hidden sm:inline lg:hidden&quot;&gt;Programas (PEP)&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;PEP&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;          &lt;/nav&gt;&#10;        &lt;/header&gt;&#10;        &lt;main className=&quot;p-4 md:p-6 lg:p-8 w-full max-w-[1600px] mx-auto&quot;&gt;&#10;          {/* Cards de Estatísticas */}&#10;          &lt;div className=&quot;grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8&quot;&gt;&#10;            {/* Card Unidades Regionais */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;LocationOnIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Unidades Regionais&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.regionais}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;&#10;            {/* Card Institutos Tecnológicos */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;BusinessIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Institutos Tecnológicos&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.institutos}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;&#10;            {/* Card Campos Experimentais */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;AgricultureIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Campos Experimentais&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.fazendas}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;&#10;            {/* Card Total de Pesquisadores */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;GroupIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Total de Pesquisadores e Assessores Ativos&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.pesquisadores}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Navegação entre Gráficos */}&#10;          &lt;div className=&quot;mb-6&quot;&gt;&#10;            &lt;div className=&quot;flex gap-3 justify-center md:justify-start flex-wrap&quot;&gt;&#10;              &lt;button&#10;                onClick={() =&gt; setActiveChart('regionais')}&#10;                className={`&#10;                  px-4 md:px-6 py-2.5 md:py-3 rounded-xl font-semibold text-sm md:text-base&#10;                  transition-all duration-300 flex items-center gap-2&#10;                  ${activeChart === 'regionais' &#10;                    ? 'bg-[#025C3E] text-white shadow-lg scale-105' &#10;                    : 'bg-white text-[#025C3E] border-2 border-[#025C3E] hover:bg-[#E3F7EF]'&#10;                  }&#10;                `}&#10;              &gt;&#10;                &lt;LocationOnIcon fontSize=&quot;small&quot; /&gt;&#10;                &lt;span&gt;Pesquisadores por Unidade Regional&lt;/span&gt;&#10;              &lt;/button&gt;&#10;              &#10;              &lt;button&#10;                onClick={() =&gt; setActiveChart('fazendas')}&#10;                className={`&#10;                  px-4 md:px-6 py-2.5 md:py-3 rounded-xl font-semibold text-sm md:text-base&#10;                  transition-all duration-300 flex items-center gap-2&#10;                  ${activeChart === 'fazendas' &#10;                    ? 'bg-[#025C3E] text-white shadow-lg scale-105' &#10;                    : 'bg-white text-[#025C3E] border-2 border-[#025C3E] hover:bg-[#E3F7EF]'&#10;                  }&#10;                `}&#10;              &gt;&#10;                &lt;AgricultureIcon fontSize=&quot;small&quot; /&gt;&#10;                &lt;span&gt;Pesquisadores por Campo Experimental&lt;/span&gt;&#10;              &lt;/button&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Gráficos alternados */}&#10;          {activeChart === 'regionais' ? &lt;RegionaisChart /&gt; : &lt;FazendasChart /&gt;}&#10;        &lt;/main&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}&#10;" />
              <option name="updatedContent" value="&quot;use client&quot;;&#10;&#10;import { useState, useRef, useEffect } from &quot;react&quot;;&#10;import Link from &quot;next/link&quot;;&#10;import HomeIcon from '@mui/icons-material/Home';&#10;import AssignmentIcon from '@mui/icons-material/Assignment';&#10;import MenuBookIcon from '@mui/icons-material/MenuBook';&#10;import ScienceIcon from '@mui/icons-material/Science';&#10;import CalendarMonthIcon from '@mui/icons-material/CalendarMonth';&#10;import LanguageIcon from '@mui/icons-material/Language';&#10;import LibraryBooksIcon from '@mui/icons-material/LibraryBooks';&#10;import LocationOnIcon from '@mui/icons-material/LocationOn';&#10;import BusinessIcon from '@mui/icons-material/Business';&#10;import AgricultureIcon from '@mui/icons-material/Agriculture';&#10;import GroupIcon from '@mui/icons-material/Group';&#10;import PeopleIcon from '@mui/icons-material/People';&#10;import ScienceOutlinedIcon from '@mui/icons-material/ScienceOutlined';&#10;import RegionaisChart from '@/components/dashboard/RegionaisChart';&#10;import FazendasChart from '@/components/dashboard/FazendasChart';&#10;import Image from 'next/image';&#10;&#10;const menuItems = [&#10;  {&#10;    label: &quot;Projetos&quot;,&#10;    icon: &lt;AssignmentIcon fontSize=&quot;small&quot; className=&quot;text-[#025C3E]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Visão Geral&quot;, href: &quot;/projetos/financeiro&quot; },&#10;      { label: &quot;Finalizados&quot;, href: &quot;/projetos/finalizados&quot; },&#10;    ],&#10;  },&#10;  {&#10;    label: &quot;Publicações&quot;,&#10;    icon: &lt;MenuBookIcon fontSize=&quot;small&quot; className=&quot;text-[#025C3E]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Artigos&quot;, href: &quot;/publicacoes/artigos&quot; },&#10;      { label: &quot;Livros&quot;, href: &quot;/publicacoes/livros&quot; },&#10;    ],&#10;  },&#10;  {&#10;    label: &quot;Tecnologias&quot;,&#10;    icon: &lt;ScienceIcon fontSize=&quot;small&quot; className=&quot;text-[#303836]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Patentes&quot;, href: &quot;/tecnologias/patentes&quot; },&#10;      { label: &quot;Mercado&quot;, href: &quot;/tecnologias/mercado&quot; },&#10;    ],&#10;  },&#10;  {&#10;    label: &quot;Eventos&quot;,&#10;    icon: &lt;CalendarMonthIcon fontSize=&quot;small&quot; className=&quot;text-[#025C3E]&quot; /&gt;,&#10;    sub: [&#10;      { label: &quot;Próximos&quot;, href: &quot;/eventos/proximos&quot; },&#10;      { label: &quot;Passados&quot;, href: &quot;/eventos/passados&quot; },&#10;    ],&#10;  },&#10;];&#10;&#10;interface DashboardStats {&#10;  regionais: number;&#10;  institutos: number;&#10;  fazendas: number;&#10;  pesquisadores: number;&#10;}&#10;&#10;export default function Page() {&#10;  const [openMenu, setOpenMenu] = useState(-1);&#10;  const dropdownRef = useRef&lt;HTMLDivElement | null&gt;(null);&#10;  const [stats, setStats] = useState&lt;DashboardStats&gt;({&#10;    regionais: 0,&#10;    institutos: 0,&#10;    fazendas: 0,&#10;    pesquisadores: 0,&#10;  });&#10;  const [loading, setLoading] = useState(true);&#10;  const [activeChart, setActiveChart] = useState&lt;'regionais' | 'fazendas'&gt;('regionais');&#10;&#10;  useEffect(() =&gt; {&#10;    function handleClick(e: MouseEvent) {&#10;      if (&#10;        dropdownRef.current &amp;&amp;&#10;        !dropdownRef.current.contains(e.target as Node)&#10;      ) {&#10;        setOpenMenu(-1);&#10;      }&#10;    }&#10;    document.addEventListener(&quot;mousedown&quot;, handleClick);&#10;    return () =&gt; document.removeEventListener(&quot;mousedown&quot;, handleClick);&#10;  }, []);&#10;&#10;  useEffect(() =&gt; {&#10;    async function fetchStats() {&#10;      try {&#10;        setLoading(true);&#10;        // Buscar apenas regionais (os demais valores são fixos)&#10;        const regionaisRes = await fetch('/api/dashboard/regionais');&#10;        const regionaisData = await regionaisRes.json();&#10;        setStats({&#10;          regionais: 5,&#10;          institutos: 2,&#10;          fazendas: 21,&#10;          pesquisadores: regionaisData.totalGeral || 0,&#10;        });&#10;      } catch (error) {&#10;        console.error('Erro ao buscar estatísticas:', error);&#10;      } finally {&#10;        setLoading(false);&#10;      }&#10;    }&#10;    fetchStats();&#10;  }, []);&#10;&#10;  return (&#10;    &lt;div className=&quot;flex min-h-screen bg-[#f6f8f9] overflow-x-hidden&quot;&gt;&#10;      {/* Menu Lateral */}&#10;      &lt;aside className=&quot;bg-white border-r-8 border-[#025C3E] w-20 md:w-64 h-screen flex flex-col items-center py-8 fixed left-0 top-0 z-40 shadow-lg overflow-y-auto&quot;&gt;&#10;        &lt;div className=&quot;flex flex-col items-center w-full&quot;&gt;&#10;          &lt;Image src=&quot;/epamig.svg&quot; alt=&quot;Logo EPAMIG&quot; width={112} height={112} className=&quot;w-28 h-28 mb-3&quot; priority /&gt;&#10;          &lt;Link&#10;            href=&quot;/inicio&quot;&#10;            className=&quot;flex items-center gap-2 bg-[#025C3E] text-white px-5 py-2 rounded-2xl shadow hover:bg-[#038451] transition mb-8 mt-2&quot;&#10;          &gt;&#10;            &lt;HomeIcon fontSize=&quot;medium&quot; /&gt; &lt;span className=&quot;font-bold hidden md:inline&quot;&gt;Início&lt;/span&gt;&#10;          &lt;/Link&gt;&#10;        &lt;/div&gt;&#10;        &lt;nav className=&quot;flex-1 w-full px-2&quot; ref={dropdownRef}&gt;&#10;          &lt;ul className=&quot;space-y-2&quot;&gt;&#10;            {menuItems.map((item, idx) =&gt; (&#10;              &lt;li key={item.label} className=&quot;relative&quot;&gt;&#10;                &lt;button&#10;                  className={`w-full flex items-center justify-between px-3 py-3 rounded-xl border border-transparent transition-all shadow hover:border-[#025C3E] hover:bg-[#E3F7EF] focus:bg-[#E3F7EF] group&#10;                  ${openMenu === idx ? &quot;bg-[#E3F7EF] border-[#025C3E]&quot; : &quot;&quot;}`}&#10;                  onClick={() =&gt; setOpenMenu(openMenu === idx ? -1 : idx)}&#10;                  aria-expanded={openMenu === idx}&#10;                &gt;&#10;                  &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                    {item.icon}&#10;                    &lt;span className=&quot;text-[#025C3E] text-base md:text-lg font-semibold&quot;&gt;{item.label}&lt;/span&gt;&#10;                  &lt;/div&gt;&#10;                  &lt;span&#10;                    className={`text-[#025C3E] transform transition-transform duration-300 ${&#10;                      openMenu === idx ? &quot;rotate-180&quot; : &quot;rotate-0&quot;&#10;                    }`}&#10;                  &gt;&#10;                    &lt;svg width={20} height={20}&gt;&lt;path d=&quot;M7 10l5 0&quot; stroke=&quot;#025C3E&quot; strokeWidth={3} strokeLinecap=&quot;round&quot; /&gt;&lt;/svg&gt;&#10;                  &lt;/span&gt;&#10;                &lt;/button&gt;&#10;                {openMenu === idx &amp;&amp; (&#10;                  &lt;div className=&quot;absolute left-full top-0 md:static md:left-0 md:top-auto z-20 w-32 md:w-auto shadow-lg rounded-xl bg-white mt-2 animate-fadein border border-[#E3F7EF]&quot;&gt;&#10;                    &lt;ul className=&quot;p-2&quot;&gt;&#10;                      {item.sub.map((sub) =&gt; (&#10;                        &lt;li key={sub.href}&gt;&#10;                          &lt;Link&#10;                            href={sub.href}&#10;                            className=&quot;block py-2 px-4 text-sm text-[#025C3E] rounded hover:bg-[#DFF6EC] font-medium transition&quot;&#10;                          &gt;&#10;                            {sub.label}&#10;                          &lt;/Link&gt;&#10;                        &lt;/li&gt;&#10;                      ))}&#10;                    &lt;/ul&gt;&#10;                  &lt;/div&gt;&#10;                )}&#10;              &lt;/li&gt;&#10;            ))}&#10;          &lt;/ul&gt;&#10;        &lt;/nav&gt;&#10;        &lt;div className=&quot;mt-auto pt-4 text-xs text-gray-400&quot;&gt;EPAMIG © 2025&lt;/div&gt;&#10;      &lt;/aside&gt;&#10;      {/* HEADER FIXO + Main */}&#10;      &lt;div className=&quot;flex-1 ml-20 md:ml-64 flex flex-col&quot;&gt;&#10;        &lt;header className=&quot;bg-white shadow-sm flex flex-col md:flex-row items-center justify-between px-4 md:px-8 py-4 md:py-5 border-b-2 border-[#025C3E] sticky top-0 z-30 w-full gap-3 md:gap-4&quot;&gt;&#10;          &lt;div className=&quot;text-center md:text-left&quot;&gt;&#10;            &lt;h1 className=&quot;text-lg md:text-xl lg:text-2xl font-bold text-[#025C3E] leading-tight&quot;&gt;Pesquisa360 EPAMIG&lt;/h1&gt;&#10;            &lt;span className=&quot;block text-xs md:text-sm text-[#038451] font-medium mt-1&quot;&gt;Onde a pesquisa se transforma em resultados.&lt;/span&gt;&#10;          &lt;/div&gt;&#10;          &lt;nav className=&quot;flex items-center divide-x divide-gray-300&quot;&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.epamig.br&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;LanguageIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden sm:inline&quot;&gt;Conheça a EPAMIG&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;EPAMIG&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.livrariaepamig.com.br/&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;LibraryBooksIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden sm:inline&quot;&gt;Nossa Livraria&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;Livraria&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.epamig.br/pesquisa/lista_pesquisadores/&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;PeopleIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden sm:inline&quot;&gt;Pesquisadores e Assessores&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;Pesq.&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;            &lt;Link&#10;              href=&quot;https://www.epamig.br/pesquisa/programas-estaduais-de-pesquisa/&quot;&#10;              target=&quot;_blank&quot;&#10;              rel=&quot;noopener&quot;&#10;              className=&quot;flex items-center gap-2 px-3 md:px-4 text-[#025C3E] hover:text-[#038451] font-semibold transition-colors duration-200 text-xs md:text-sm whitespace-nowrap&quot;&#10;            &gt;&#10;              &lt;ScienceOutlinedIcon fontSize=&quot;small&quot; /&gt;&#10;              &lt;span className=&quot;hidden lg:inline&quot;&gt;Programas Estaduais de Pesquisas (PEP)&lt;/span&gt;&#10;              &lt;span className=&quot;hidden sm:inline lg:hidden&quot;&gt;Programas (PEP)&lt;/span&gt;&#10;              &lt;span className=&quot;sm:hidden&quot;&gt;PEP&lt;/span&gt;&#10;            &lt;/Link&gt;&#10;          &lt;/nav&gt;&#10;        &lt;/header&gt;&#10;        &lt;main className=&quot;p-4 md:p-6 lg:p-8 w-full max-w-[1600px] mx-auto&quot;&gt;&#10;          {/* Cards de Estatísticas */}&#10;          &lt;div className=&quot;grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-6 md:mb-8&quot;&gt;&#10;            {/* Card Unidades Regionais */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;LocationOnIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Unidades Regionais&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.regionais}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;&#10;            {/* Card Institutos Tecnológicos */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;BusinessIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Institutos Tecnológicos&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.institutos}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;&#10;            {/* Card Campos Experimentais */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;AgricultureIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Campos Experimentais&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.fazendas}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;&#10;            {/* Card Total de Pesquisadores */}&#10;            &lt;div className=&quot;bg-white rounded-2xl shadow-lg p-4 md:p-6 border-l-4 border-[#025C3E] hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1&quot;&gt;&#10;              &lt;div className=&quot;flex items-center justify-between mb-4&quot;&gt;&#10;                &lt;div className=&quot;bg-[#E3F7EF] p-3 rounded-xl&quot;&gt;&#10;                  &lt;GroupIcon className=&quot;text-[#025C3E]&quot; fontSize=&quot;large&quot; /&gt;&#10;                &lt;/div&gt;&#10;                {loading &amp;&amp; (&#10;                  &lt;div className=&quot;animate-pulse bg-gray-200 h-8 w-16 rounded&quot;&gt;&lt;/div&gt;&#10;                )}&#10;              &lt;/div&gt;&#10;              &lt;h3 className=&quot;text-gray-600 text-xs md:text-sm font-semibold mb-3&quot;&gt;Total de Pesquisadores e Assessores Ativos&lt;/h3&gt;&#10;              {!loading &amp;&amp; (&#10;                &lt;p className=&quot;text-3xl md:text-4xl font-bold text-black&quot;&gt;{stats.pesquisadores}&lt;/p&gt;&#10;              )}&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Navegação entre Gráficos */}&#10;          &lt;div className=&quot;mb-6&quot;&gt;&#10;            &lt;div className=&quot;flex gap-3 justify-center md:justify-start flex-wrap&quot;&gt;&#10;              &lt;button&#10;                onClick={() =&gt; setActiveChart('regionais')}&#10;                className={`&#10;                  px-4 md:px-6 py-2.5 md:py-3 rounded-xl font-semibold text-sm md:text-base&#10;                  transition-all duration-300 flex items-center gap-2&#10;                  ${activeChart === 'regionais' &#10;                    ? 'bg-[#025C3E] text-white shadow-lg scale-105' &#10;                    : 'bg-white text-[#025C3E] border-2 border-[#025C3E] hover:bg-[#E3F7EF]'&#10;                  }&#10;                `}&#10;              &gt;&#10;                &lt;LocationOnIcon fontSize=&quot;small&quot; /&gt;&#10;                &lt;span&gt;Pesquisadores por Unidade Regional&lt;/span&gt;&#10;              &lt;/button&gt;&#10;              &#10;              &lt;button&#10;                onClick={() =&gt; setActiveChart('fazendas')}&#10;                className={`&#10;                  px-4 md:px-6 py-2.5 md:py-3 rounded-xl font-semibold text-sm md:text-base&#10;                  transition-all duration-300 flex items-center gap-2&#10;                  ${activeChart === 'fazendas' &#10;                    ? 'bg-[#025C3E] text-white shadow-lg scale-105' &#10;                    : 'bg-white text-[#025C3E] border-2 border-[#025C3E] hover:bg-[#E3F7EF]'&#10;                  }&#10;                `}&#10;              &gt;&#10;                &lt;AgricultureIcon fontSize=&quot;small&quot; /&gt;&#10;                &lt;span&gt;Pesquisadores por Campo Experimental&lt;/span&gt;&#10;              &lt;/button&gt;&#10;            &lt;/div&gt;&#10;          &lt;/div&gt;&#10;&#10;          {/* Gráficos alternados */}&#10;          {activeChart === 'regionais' ? &lt;RegionaisChart /&gt; : &lt;FazendasChart /&gt;}&#10;        &lt;/main&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>